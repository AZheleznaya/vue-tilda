"use strict";(self["webpackChunkvue_tilda"]=self["webpackChunkvue_tilda"]||[]).push([[154],{7092:function(e,t,a){a.d(t,{Z:function(){return Z}});var i=a(6252),s=a(9963),n=a(3577);const o={key:1,class:"settings-content"},l={class:"settings-content__head"},m={class:"head-content__top"},c=(0,i._)("h4",{class:"settings-title"},"Настройки страницы",-1),d={class:"head-content__tabs"},g=["onClick"],r={class:"settings-content__body"};function p(e,t,a,p,u,h){return(0,i.wg)(),(0,i.j4)(s.W3,{name:"settings"},{default:(0,i.w5)((()=>[a.modalSettingsOpen?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:t[0]||(t[0]=(0,s.iM)(((...e)=>h.hideSettingsModal&&h.hideSettingsModal(...e)),["stop"])),class:"settings-overlay"})):(0,i.kq)("",!0),a.modalSettingsOpen?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[(0,i._)("div",m,[c,(0,i._)("button",{onClick:t[1]||(t[1]=(0,s.iM)(((...e)=>h.hideSettingsModal&&h.hideSettingsModal(...e)),["stop"])),class:"settings-button"})]),(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.tabs.list,(e=>((0,i.wg)(),(0,i.iD)("button",{key:e.id,onClick:t=>u.tabs.active=e.tabName,class:(0,n.C_)([{active:u.tabs.active===e.tabName},"tabs-item"])},(0,n.zw)(e.title),11,g)))),128))])]),(0,i._)("div",r,[((0,i.wg)(),(0,i.j4)((0,i.LL)(u.tabs.active),{page:a.page,onChangeTitle:h.changeTitle,onSaveImage:h.saveActiveImage,onCloseModal:h.hideSettingsModal},null,40,["page","onChangeTitle","onSaveImage","onCloseModal"]))])])):(0,i.kq)("",!0)])),_:1})}const u={class:"main-form"},h={class:"main-form__item"},_=(0,i._)("label",{class:"item-label",for:"input-title"},"Заголовок",-1),v=(0,i.uE)('<div class="main-form__item"><label class="item-label" for="input-description">Описание</label><input id="input-description" class="item-input" type="text" placeholder="Описание страницы"></div><div class="main-form__item"><label class="item-label" for="input-url">Адрес страницы</label><input id="input-url" class="item-input" type="text" placeholder="Адрес страницы"></div>',2);function b(e,t,a,n,o,l){return(0,i.wg)(),(0,i.iD)("form",u,[(0,i._)("div",h,[_,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.inputValue=e),id:"input-title",class:"item-input",type:"text"},null,512),[[s.nr,o.inputValue]])]),v,(0,i._)("button",{class:"main-form__button",onClick:t[1]||(t[1]=(0,s.iM)(((...e)=>l.changeTitle&&l.changeTitle(...e)),["prevent"]))},"Сохранить изменения")])}var j={name:"ProjectItemSettingsMain",props:{page:{type:Object}},data(){return{inputValue:this.page.title+" "+this.page.id}},methods:{changeTitle(){this.$emit("change-title",this.inputValue),this.$emit("close-modal")}}},P=a(3744);const w=(0,P.Z)(j,[["render",b]]);var I=w;const f={class:"images"},M={class:"active-image"},k=["src"],y={class:"images-list"},D=["onClick"],C=["src"];function S(e,t,a,s,n,o){return(0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("div",M,[(0,i._)("img",{src:n.activeImage,alt:"image"},null,8,k)]),(0,i._)("div",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.images,(e=>((0,i.wg)(),(0,i.iD)("button",{key:e.id,class:"images-list__item",onClick:t=>n.activeImage=e.activeImage},[(0,i._)("img",{src:e.src,alt:"image"},null,8,C)],8,D)))),128))]),(0,i._)("button",{class:"images-button",onClick:t[0]||(t[0]=(...e)=>o.saveActiveImage&&o.saveActiveImage(...e))},"Сохранить изменения")])}var V={name:"ProjectItemSettingsImage",data(){return{activeImage:"../images/img-1.jpeg",images:[{id:1,src:"../images/img-1.jpeg",activeImage:"../images/img-1.jpeg"},{id:2,src:"../images/img-2.jpeg",activeImage:"../images/img-2.jpeg"},{id:3,src:"../images/img-3.jpeg",activeImage:"../images/img-3.jpeg"},{id:4,src:"../images/img-4.jpeg",activeImage:"../images/img-4.jpeg"}]}},methods:{saveActiveImage(){this.$emit("save-image",this.activeImage),this.$emit("close-modal")}}};const x=(0,P.Z)(V,[["render",S]]);var $=x,N={name:"ProjectSettingsModal",emits:["change-title","save-image","close-modal"],components:{ProjectItemSettingsMain:I,ProjectItemSettingsImage:$},props:{modalSettingsOpen:{type:Boolean,default:!1},page:{type:Object}},data(){return{tabs:{active:"ProjectItemSettingsMain",list:[{id:1,title:"Главное",tabName:"ProjectItemSettingsMain"},{id:2,title:"Бейджик",tabName:"ProjectItemSettingsImage"}]}}},methods:{hideSettingsModal(){this.$emit("update:modalSettingsOpen",!1)},changeTitle(e){this.$emit("change-title",e)},saveActiveImage(e){this.$emit("save-image",e)}}};const O=(0,P.Z)(N,[["render",p]]);var Z=O},6899:function(e,t,a){a.r(t),a.d(t,{default:function(){return de}});var i=a(6252);function s(e,t,a,s,n,o){const l=(0,i.up)("header-main"),m=(0,i.up)("project-items-panel"),c=(0,i.up)("project-items-list");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(m,{onAddPage:o.addNewPage},null,8,["onAddPage"]),(0,i.Wm)(c,{pages:n.allPages,onRemovePage:o.removePage},null,8,["pages","onRemovePage"])],64)}a(7658);var n=a(3274),o=a.p+"img/domain.bab58f95.svg",l=a(5467);const m={class:"project-panel"},c={class:"container"},d={class:"project-panel__top"},g=(0,i._)("span",{class:"add-domain__icon"},[(0,i._)("img",{src:o,alt:"domain-icon"})],-1),r=(0,i._)("span",{class:"add-domain__text"},"Подключить домен",-1),p=[g,r],u=(0,i._)("button",{class:"project-url"},[(0,i._)("svg",{class:"url-icon",width:"14",height:"14",role:"img"},[(0,i._)("use",{"xlink:href":"#external-icon"})]),(0,i._)("span",{class:"project-url__title"},"Адрес сайта:"),(0,i._)("span",{class:"project-url__text"},"http://project1234567.tilda.ws")],-1),h={class:"project-panel__bottom"},_=(0,i._)("h2",{class:"project-title"},"My project",-1),v=(0,i._)("span",{class:"add-page__icon"},[(0,i._)("img",{src:l,alt:"add-icon"})],-1),b=(0,i._)("span",{class:"add-page__text"},"Создать новую страницу",-1),j=[v,b];function P(e,t,a,s,n,o){const l=(0,i.up)("project-domain-modal");return(0,i.wg)(),(0,i.iD)("div",m,[(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>o.showModal&&o.showModal(...e)),class:"add-domain"},p),u]),(0,i._)("div",h,[_,(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>o.addNewPage&&o.addNewPage(...e)),class:"add-page"},j)])]),(0,i.Wm)(l,{"modal-domain-open":n.modalVisible,"onUpdate:modalDomainOpen":t[2]||(t[2]=e=>n.modalVisible=e)},null,8,["modal-domain-open"])])}var w=a(9963);const I={key:1,class:"domain-content"},f={class:"modal-domain__head"},M=(0,i._)("h4",{class:"head-title"},"Подключить домен",-1),k={class:"modal-domain__body"},y={class:"error-domain"},D=(0,i._)("label",{for:"input-body",class:"body-label"},"Домен",-1),C={class:"modal-domain__footer"};function S(e,t,a,s,n,o){return(0,i.wg)(),(0,i.j4)(w.W3,{name:"domain"},{default:(0,i.w5)((()=>[a.modalDomainOpen?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:t[0]||(t[0]=(0,w.iM)(((...e)=>o.hideDomainModal&&o.hideDomainModal(...e)),["stop"])),class:"domain-overlay"})):(0,i.kq)("",!0),a.modalDomainOpen?((0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("div",f,[M,(0,i._)("button",{onClick:t[1]||(t[1]=(0,w.iM)(((...e)=>o.hideDomainModal&&o.hideDomainModal(...e)),["stop"])),class:"head-button"})]),(0,i._)("div",k,[(0,i.wy)((0,i._)("span",y,"Неверное имя домена",512),[[w.F8,!n.isValid]]),D,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.inputValue=e),id:"input-body",class:"body-input",type:"text",placeholder:"project1234567.tilda.ws"},null,512),[[w.nr,n.inputValue]])]),(0,i._)("div",C,[(0,i._)("button",{onClick:t[3]||(t[3]=(0,w.iM)(((...e)=>o.closeModal&&o.closeModal(...e)),["stop"])),class:"footer-button"},"Сохранить")])])):(0,i.kq)("",!0)])),_:1})}var V={name:"ProjectDomainModal",props:{modalDomainOpen:{type:Boolean,default:!1}},data(){return{inputValue:"",isValid:!0}},methods:{hideDomainModal(){this.$emit("update:modalDomainOpen",!1)},checkDomainValue(){const e=/^([\wёa-я-]{2,}\.)+[\wёa-я-]{2,}$/i;this.isValid=this.inputValue.match(e)},closeModal(){this.checkDomainValue(),this.isValid&&this.hideDomainModal()}}},x=a(3744);const $=(0,x.Z)(V,[["render",S]]);var N=$,O={name:"ProjectItemsPanel",components:{ProjectDomainModal:N},data(){return{modalVisible:!1}},methods:{addNewPage(){this.$emit("addPage")},showModal(){this.modalVisible=!0}}};const Z=(0,x.Z)(O,[["render",P]]);var T=Z;const A={class:"pages"},W=(0,i._)("h5",{class:"pages-title"},"Страницы сайта:",-1),H={key:0,class:"pages-list list-unstyled"},q={key:1,class:"pages-empty"};function L(e,t,a,s,n,o){const l=(0,i.up)("project-item");return(0,i.wg)(),(0,i.iD)("div",A,[W,a.pages.length?((0,i.wg)(),(0,i.iD)("ul",H,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages,((e,t)=>((0,i.wg)(),(0,i.j4)(l,{"index-page":t+1,key:e.id,page:e,onRemovePage:o.removeProject},null,8,["index-page","page","onRemovePage"])))),128))])):((0,i.wg)(),(0,i.iD)("h3",q,"Добавьте первую страницу."))])}var R=a(3577);const U={class:"page"},Y=["src"],K={class:"page-left__title"},z={class:"page-right"},B=(0,i._)("svg",{class:"icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,i._)("use",{href:"#settings-icon"})],-1),E=(0,i._)("span",{class:"text"},"Настройки",-1),F=[B,E],G=(0,i._)("svg",{class:"icon",width:"14",height:"14","aria-hidden":"true",role:"img"},[(0,i._)("use",{href:"#trash-icon"})],-1),J=(0,i._)("span",{class:"text"},"Удалить",-1),Q=[G,J];function X(e,t,a,s,n,o){const l=(0,i.up)("router-link"),m=(0,i.up)("project-settings-modal");return(0,i.wg)(),(0,i.iD)("li",U,[(0,i.Wm)(l,{to:`/project/${e.$route.params.projectId}/edit/${a.page.id}`,class:"page-left"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:n.itemImage,class:"page-left__image",alt:"image"},null,8,Y),(0,i._)("span",K,(0,R.zw)(n.itemName),1)])),_:1},8,["to"]),(0,i._)("div",z,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>o.showModal&&o.showModal(...e)),class:"page-right__settings"},F),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>o.removePage&&o.removePage(...e)),class:"page-right__trash"},Q)]),(0,i.Wm)(m,{"modal-settings-open":n.modalVisible,"onUpdate:modalSettingsOpen":t[2]||(t[2]=e=>n.modalVisible=e),page:a.page,onChangeTitle:o.changeTitle,onSaveImage:o.saveActiveImage},null,8,["modal-settings-open","page","onChangeTitle","onSaveImage"])])}var ee=a(7092),te={name:"ProjectItem",emits:["change-title","save-image"],components:{ProjectSettingsModal:ee.Z},props:{indexPage:Number,page:{type:Object}},data(){return{modalVisible:!1,itemName:this.page.title+" "+this.page.id,itemImage:this.page.img}},methods:{removePage(){this.$emit("remove-page",this.indexPage)},showModal(){this.modalVisible=!0},changeTitle(e){this.itemName=e},saveActiveImage(e){this.itemImage=e}}};const ae=(0,x.Z)(te,[["render",X]]);var ie=ae,se={name:"ProjectItemsList",components:{ProjectItem:ie},props:{indexPage:Number,pages:{type:Array}},methods:{removeProject(e){this.$emit("remove-page",e)}}};const ne=(0,x.Z)(se,[["render",L]]);var oe=ne,le=a(9683),me={name:"ProjectPages",components:{HeaderMain:n.Z,ProjectItemsPanel:T,ProjectItemsList:oe},data(){return{allPages:[{id:1,title:"Page",img:"../images/img-1.jpeg"},{id:2,title:"Page",img:"../images/img-2.jpeg"}]}},methods:{addNewPage(){let e=(0,le.Z)(this.allPages);this.allPages.push({id:e,title:"Page",img:"../images/img-3.jpeg"})},removePage(e){this.allPages.splice(e-1,1)}}};const ce=(0,x.Z)(me,[["render",s]]);var de=ce}}]);
//# sourceMappingURL=154.e57ab26c.js.map